{
  "address": "0x0FC911B3Abb7F26C5c26723dA199367Dc6c012e1",
  "abi": [
    {
      "inputs": [],
      "name": "ItemNotAvailable",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ItemNotSoldAtStore",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_contractOwner",
          "type": "address"
        }
      ],
      "name": "NotContractOwner",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "UnderageCustomer",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "UnderageCustomer",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "idx",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "name",
          "type": "string"
        }
      ],
      "name": "AlcoholAdded",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_newBeer",
          "type": "string"
        }
      ],
      "name": "addAlcohol",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_newMedicine",
          "type": "string"
        }
      ],
      "name": "addMedicine",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_idx",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "age",
          "type": "uint256"
        }
      ],
      "name": "buyAlcohol",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_idx",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "hasPrescription",
          "type": "bool"
        }
      ],
      "name": "buyMedicine",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getBeerStoreItems",
      "outputs": [
        {
          "internalType": "string[]",
          "name": "itemList",
          "type": "string[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_minAge",
          "type": "uint256"
        }
      ],
      "name": "setMinAge",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0x3ec039640250a09caf2d5f836f9901ba91af95d627e8de4b7c2b4a8802684c31",
  "receipt": {
    "to": null,
    "from": "0xDe3089d40F3491De794fBb1ECA109fAc36F889d0",
    "contractAddress": "0x0FC911B3Abb7F26C5c26723dA199367Dc6c012e1",
    "transactionIndex": 15,
    "gasUsed": "573822",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008000100000000000000000008040000000000000000000000000000000800000000000000000000100000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000001000000000000000000000200000000000000000080000000000000000000000000000000000000000004000000000000000000001000000000100000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000100000",
    "blockHash": "0x9b9c0d645409cb6a1c6c5f93dfb22e715a8d648bd57321f75c556475b7e81980",
    "transactionHash": "0x3ec039640250a09caf2d5f836f9901ba91af95d627e8de4b7c2b4a8802684c31",
    "logs": [
      {
        "transactionIndex": 15,
        "blockNumber": 29256730,
        "transactionHash": "0x3ec039640250a09caf2d5f836f9901ba91af95d627e8de4b7c2b4a8802684c31",
        "address": "0x0000000000000000000000000000000000001010",
        "topics": [
          "0x4dfe1bbbcf077ddc3e01291eea2d5c70c2b422b415d95645b9adcfd678cb1d63",
          "0x0000000000000000000000000000000000000000000000000000000000001010",
          "0x000000000000000000000000de3089d40f3491de794fbb1eca109fac36f889d0",
          "0x0000000000000000000000003a22c8bc68e98b0faf40f349dd2b2890fae01484"
        ],
        "data": "0x00000000000000000000000000000000000000000000000000030ed504b6220000000000000000000000000000000000000000000000000006dcd0b67be6ea8800000000000000000000000000000000000000000000000072f1228d4bf9815200000000000000000000000000000000000000000000000006d9c1e17730c88800000000000000000000000000000000000000000000000072f4316250afa352",
        "logIndex": 47,
        "blockHash": "0x9b9c0d645409cb6a1c6c5f93dfb22e715a8d648bd57321f75c556475b7e81980"
      }
    ],
    "blockNumber": 29256730,
    "cumulativeGasUsed": "3744721",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 1,
  "solcInputHash": "0217810ba6203fb47863624cdcfce3e9",
  "metadata": "{\"compiler\":{\"version\":\"0.8.13+commit.abaa5c0e\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"ItemNotAvailable\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ItemNotSoldAtStore\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_contractOwner\",\"type\":\"address\"}],\"name\":\"NotContractOwner\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"UnderageCustomer\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"UnderageCustomer\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"idx\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"}],\"name\":\"AlcoholAdded\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"_newBeer\",\"type\":\"string\"}],\"name\":\"addAlcohol\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"_newMedicine\",\"type\":\"string\"}],\"name\":\"addMedicine\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_idx\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"age\",\"type\":\"uint256\"}],\"name\":\"buyAlcohol\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_idx\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"hasPrescription\",\"type\":\"bool\"}],\"name\":\"buyMedicine\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getBeerStoreItems\",\"outputs\":[{\"internalType\":\"string[]\",\"name\":\"itemList\",\"type\":\"string[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_minAge\",\"type\":\"uint256\"}],\"name\":\"setMinAge\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/PoC/facets/PharmacyWineFacet.sol\":\"PharmacyWineFacet\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"@openzeppelin/contracts/utils/Counters.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts v4.4.1 (utils/Counters.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @title Counters\\n * @author Matt Condon (@shrugs)\\n * @dev Provides counters that can only be incremented, decremented or reset. This can be used e.g. to track the number\\n * of elements in a mapping, issuing ERC721 ids, or counting request ids.\\n *\\n * Include with `using Counters for Counters.Counter;`\\n */\\nlibrary Counters {\\n    struct Counter {\\n        // This variable should never be directly accessed by users of the library: interactions must be restricted to\\n        // the library's function. As of Solidity v0.5.2, this cannot be enforced, though there is a proposal to add\\n        // this feature: see https://github.com/ethereum/solidity/issues/4637\\n        uint256 _value; // default: 0\\n    }\\n\\n    function current(Counter storage counter) internal view returns (uint256) {\\n        return counter._value;\\n    }\\n\\n    function increment(Counter storage counter) internal {\\n        unchecked {\\n            counter._value += 1;\\n        }\\n    }\\n\\n    function decrement(Counter storage counter) internal {\\n        uint256 value = counter._value;\\n        require(value > 0, \\\"Counter: decrement overflow\\\");\\n        unchecked {\\n            counter._value = value - 1;\\n        }\\n    }\\n\\n    function reset(Counter storage counter) internal {\\n        counter._value = 0;\\n    }\\n}\\n\",\"keccak256\":\"0xf0018c2440fbe238dd3a8732fa8e17a0f9dce84d31451dc8a32f6d62b349c9f1\",\"license\":\"MIT\"},\"contracts/PoC/facets/BeerWineStoreFacet.sol\":{\"content\":\"pragma solidity ^0.8.0;\\n\\n// import base lib for Store\\nimport {LibStore} from \\\"../libraries/LibOthers.sol\\\";\\n// import to be able to interact with MeatStoreFacet\\nimport {LibBeerWineStore} from \\\"../libraries/LibOthers.sol\\\";\\n// import to be able to interact with \\\"enforcecontractowner\\\"\\nimport {LibDiamond} from \\\"../libraries/LibDiamond.sol\\\"; \\n// import counter as we using their library\\nimport {Counters} from \\\"@openzeppelin/contracts/utils/Counters.sol\\\";\\n\\n\\ncontract BeerWineStoreFacet {\\n\\n    using Counters for Counters.Counter;\\n\\n    event AlcoholAdded(uint256 idx, string name);\\n\\n    function addAlcohol(string memory _newBeer) external {\\n        LibDiamond.enforceIsContractOwner();\\n        LibStore.addItem(_newBeer,address(this));\\n    }\\n\\n    function buyAlcohol(uint256 _idx, uint256 age) external {\\n        LibBeerWineStore.enforceMinAge(age);\\n        LibStore.buyItem(_idx,address(this));\\n    } \\n\\n    function setMinAge(uint256 _minAge) external {\\n        LibBeerWineStore.diamondStorage().minAge = _minAge;\\n    }\\n    function getBeerStoreItems() external view returns (string[] memory itemList){\\n        itemList = LibStore.getItemsPerStore(address(this));\\n    }\\n}\",\"keccak256\":\"0x89ab14a80841dfa426fe6b3134086d9d319afe3e9ec2fef245fb6b3be277d078\"},\"contracts/PoC/facets/PharmacyWineFacet.sol\":{\"content\":\"pragma solidity ^0.8.0;\\n\\n// import basic store lib\\nimport {LibStore} from \\\"../libraries/LibOthers.sol\\\";\\n// import to be able to interact with MeatStoreFacet\\nimport {LibMeatStore} from \\\"../libraries/LibOthers.sol\\\";\\n// import to be able to interact with \\\"enforcecontractowner\\\"\\nimport {LibDiamond} from \\\"../libraries/LibDiamond.sol\\\"; \\n\\n// i want to add a new facets that inherits from BeerWineStore \\nimport {BeerWineStoreFacet} from \\\"./BeerWineStoreFacet.sol\\\";\\n\\n// i want to add new Lib functions for this facet\\nimport {LibPharmacyWineFacet} from \\\"../libraries/LibOthers.sol\\\"; \\n\\n// will inherit functions from BeerWineStoreFacet\\ncontract PharmacyWineFacet is BeerWineStoreFacet{\\n\\n    function addMedicine(string memory _newMedicine) external {\\n        LibDiamond.enforceIsContractOwner();\\n        LibStore.addItem(_newMedicine,address(this));\\n    }\\n\\n    function buyMedicine(uint256 _idx, bool hasPrescription) external {\\n        LibPharmacyWineFacet.enforcePrescription(hasPrescription);\\n        LibStore.buyItem(_idx,address(this));\\n    }\\n}\",\"keccak256\":\"0x8bc37373ea53f3689080fa036203ce1e65de443d37a63b9a2d6180b0eb90fae4\"},\"contracts/PoC/interfaces/IDiamond.sol\":{\"content\":\"// SPDX-License-Identifier: CC0-1.0\\npragma solidity ^0.8.0;\\n\\n/******************************************************************************\\\\\\n* Author: Nick Mudge <nick@perfectabstractions.com>, Twitter/Github: @mudgen\\n* EIP-2535 Diamonds\\n/******************************************************************************/\\n\\ninterface IDiamond {\\n    enum FacetCutAction {Add, Replace, Remove}\\n    // Add=0, Replace=1, Remove=2\\n\\n    struct FacetCut {\\n        address facetAddress;\\n        FacetCutAction action;\\n        bytes4[] functionSelectors;\\n    }\\n\\n    event DiamondCut(FacetCut[] _diamondCut, address _init, bytes _calldata);\\n}\",\"keccak256\":\"0x1785467a8f0e289da4c60b03b9055b8acb6fe0747b423b7e5d3082e562947de2\",\"license\":\"CC0-1.0\"},\"contracts/PoC/interfaces/IDiamondCut.sol\":{\"content\":\"// SPDX-License-Identifier: CC0-1.0\\npragma solidity ^0.8.0;\\n\\n/******************************************************************************\\\\\\n* Author: Nick Mudge <nick@perfectabstractions.com>, Twitter/Github: @mudgen\\n* EIP-2535 Diamonds\\n/******************************************************************************/\\n\\nimport { IDiamond } from \\\"./IDiamond.sol\\\";\\n\\ninterface IDiamondCut is IDiamond {    \\n\\n    /// @notice Add/replace/remove any number of functions and optionally execute\\n    ///         a function with delegatecall\\n    /// @param _diamondCut Contains the facet addresses and function selectors\\n    /// @param _init The address of the contract or facet to execute _calldata\\n    /// @param _calldata A function call, including function selector and arguments\\n    ///                  _calldata is executed with delegatecall on _init\\n    function diamondCut(\\n        FacetCut[] calldata _diamondCut,\\n        address _init,\\n        bytes calldata _calldata\\n    ) external;    \\n}\\n\",\"keccak256\":\"0xed328a938a43c4fce96b8d05ce142a13497cab3a65c1e5cacfae3048053cbe1b\",\"license\":\"CC0-1.0\"},\"contracts/PoC/libraries/LibDiamond.sol\":{\"content\":\"// SPDX-License-Identifier: CC0-1.0\\npragma solidity ^0.8.0;\\n\\n/******************************************************************************\\\\\\n* Author: Nick Mudge <nick@perfectabstractions.com>, Twitter/Github: @mudgen\\n* EIP-2535 Diamonds\\n/******************************************************************************/\\nimport { IDiamond } from \\\"../interfaces/IDiamond.sol\\\";\\nimport { IDiamondCut } from \\\"../interfaces/IDiamondCut.sol\\\";\\n\\n// Remember to add the loupe functions from DiamondLoupeFacet to the diamond.\\n// The loupe functions are required by the EIP2535 Diamonds standard\\n\\nerror NoSelectorsGivenToAdd();\\nerror NotContractOwner(address _user, address _contractOwner);\\nerror NoSelectorsProvidedForFacetForCut(address _facetAddress);\\nerror CannotAddSelectorsToZeroAddress(bytes4[] _selectors);\\nerror NoBytecodeAtAddress(address _contractAddress, string _message);\\nerror IncorrectFacetCutAction(uint8 _action);\\nerror CannotAddFunctionToDiamondThatAlreadyExists(bytes4 _selector);\\nerror CannotReplaceFunctionsFromFacetWithZeroAddress(bytes4[] _selectors);\\nerror CannotReplaceImmutableFunction(bytes4 _selector);\\nerror CannotReplaceFunctionWithTheSameFunctionFromTheSameFacet(bytes4 _selector);\\nerror CannotReplaceFunctionThatDoesNotExists(bytes4 _selector);\\nerror RemoveFacetAddressMustBeZeroAddress(address _facetAddress);\\nerror CannotRemoveFunctionThatDoesNotExist(bytes4 _selector);\\nerror CannotRemoveImmutableFunction(bytes4 _selector);\\nerror InitializationFunctionReverted(address _initializationContractAddress, bytes _calldata);\\n\\nlibrary LibDiamond {\\n    bytes32 constant DIAMOND_STORAGE_POSITION = keccak256(\\\"diamond.standard.diamond.storage\\\");\\n\\n    struct FacetAddressAndSelectorPosition {\\n        address facetAddress;\\n        uint16 selectorPosition;\\n    }\\n\\n    struct DiamondStorage {\\n        // function selector => facet address and selector position in selectors array\\n        mapping(bytes4 => FacetAddressAndSelectorPosition) facetAddressAndSelectorPosition;\\n        bytes4[] selectors;\\n        mapping(bytes4 => bool) supportedInterfaces;\\n        // owner of the contract\\n        address contractOwner;\\n        //extra variables added\\n        string location;\\n        uint256 creationTimestamp;\\n    }\\n\\n    function diamondStorage() internal pure returns (DiamondStorage storage ds) {\\n        bytes32 position = DIAMOND_STORAGE_POSITION;\\n        assembly {\\n            ds.slot := position\\n        }\\n    }\\n\\n    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\\n\\n    function setContractOwner(address _newOwner) internal {\\n        DiamondStorage storage ds = diamondStorage();\\n        address previousOwner = ds.contractOwner;\\n        ds.contractOwner = _newOwner;\\n        emit OwnershipTransferred(previousOwner, _newOwner);\\n    }\\n\\n    function contractOwner() internal view returns (address contractOwner_) {\\n        contractOwner_ = diamondStorage().contractOwner;\\n    }\\n\\n    function enforceIsContractOwner() internal view {\\n        if(msg.sender != diamondStorage().contractOwner) {\\n            revert NotContractOwner(msg.sender, diamondStorage().contractOwner);\\n        }        \\n    }\\n\\n    event DiamondCut(IDiamondCut.FacetCut[] _diamondCut, address _init, bytes _calldata);\\n\\n    // Internal function version of diamondCut\\n    function diamondCut(\\n        IDiamondCut.FacetCut[] memory _diamondCut,\\n        address _init,\\n        bytes memory _calldata\\n    ) internal {\\n        for (uint256 facetIndex; facetIndex < _diamondCut.length; facetIndex++) {\\n            bytes4[] memory functionSelectors = _diamondCut[facetIndex].functionSelectors;\\n            address facetAddress = _diamondCut[facetIndex].facetAddress;\\n            if(functionSelectors.length == 0) {\\n                revert NoSelectorsProvidedForFacetForCut(facetAddress);\\n            }\\n            IDiamondCut.FacetCutAction action = _diamondCut[facetIndex].action;\\n            if (action == IDiamond.FacetCutAction.Add) {\\n                addFunctions(facetAddress, functionSelectors);\\n            } else if (action == IDiamond.FacetCutAction.Replace) {\\n                replaceFunctions(facetAddress, functionSelectors);\\n            } else if (action == IDiamond.FacetCutAction.Remove) {\\n                removeFunctions(facetAddress, functionSelectors);\\n            } else {\\n                revert IncorrectFacetCutAction(uint8(action));\\n            }\\n        }\\n        emit DiamondCut(_diamondCut, _init, _calldata);\\n        initializeDiamondCut(_init, _calldata);\\n    }\\n\\n    function addFunctions(address _facetAddress, bytes4[] memory _functionSelectors) internal {        \\n        if(_facetAddress == address(0)) {\\n            revert CannotAddSelectorsToZeroAddress(_functionSelectors);\\n        }\\n        DiamondStorage storage ds = diamondStorage();\\n        uint16 selectorCount = uint16(ds.selectors.length);                \\n        enforceHasContractCode(_facetAddress, \\\"LibDiamondCut: Add facet has no code\\\");\\n        for (uint256 selectorIndex; selectorIndex < _functionSelectors.length; selectorIndex++) {\\n            bytes4 selector = _functionSelectors[selectorIndex];\\n            address oldFacetAddress = ds.facetAddressAndSelectorPosition[selector].facetAddress;\\n            if(oldFacetAddress != address(0)) {\\n                revert CannotAddFunctionToDiamondThatAlreadyExists(selector);\\n            }            \\n            ds.facetAddressAndSelectorPosition[selector] = FacetAddressAndSelectorPosition(_facetAddress, selectorCount);\\n            ds.selectors.push(selector);\\n            selectorCount++;\\n        }\\n    }\\n\\n    function replaceFunctions(address _facetAddress, bytes4[] memory _functionSelectors) internal {        \\n        DiamondStorage storage ds = diamondStorage();\\n        if(_facetAddress == address(0)) {\\n            revert CannotReplaceFunctionsFromFacetWithZeroAddress(_functionSelectors);\\n        }\\n        enforceHasContractCode(_facetAddress, \\\"LibDiamondCut: Replace facet has no code\\\");\\n        for (uint256 selectorIndex; selectorIndex < _functionSelectors.length; selectorIndex++) {\\n            bytes4 selector = _functionSelectors[selectorIndex];\\n            address oldFacetAddress = ds.facetAddressAndSelectorPosition[selector].facetAddress;\\n            // can't replace immutable functions -- functions defined directly in the diamond in this case\\n            if(oldFacetAddress == address(this)) {\\n                revert CannotReplaceImmutableFunction(selector);\\n            }\\n            if(oldFacetAddress == _facetAddress) {\\n                revert CannotReplaceFunctionWithTheSameFunctionFromTheSameFacet(selector);\\n            }\\n            if(oldFacetAddress == address(0)) {\\n                revert CannotReplaceFunctionThatDoesNotExists(selector);\\n            }\\n            // replace old facet address\\n            ds.facetAddressAndSelectorPosition[selector].facetAddress = _facetAddress;\\n        }\\n    }\\n\\n    function removeFunctions(address _facetAddress, bytes4[] memory _functionSelectors) internal {        \\n        DiamondStorage storage ds = diamondStorage();\\n        uint256 selectorCount = ds.selectors.length;\\n        if(_facetAddress != address(0)) {\\n            revert RemoveFacetAddressMustBeZeroAddress(_facetAddress);\\n        }        \\n        for (uint256 selectorIndex; selectorIndex < _functionSelectors.length; selectorIndex++) {\\n            bytes4 selector = _functionSelectors[selectorIndex];\\n            FacetAddressAndSelectorPosition memory oldFacetAddressAndSelectorPosition = ds.facetAddressAndSelectorPosition[selector];\\n            if(oldFacetAddressAndSelectorPosition.facetAddress == address(0)) {\\n                revert CannotRemoveFunctionThatDoesNotExist(selector);\\n            }\\n            \\n            \\n            // can't remove immutable functions -- functions defined directly in the diamond\\n            if(oldFacetAddressAndSelectorPosition.facetAddress == address(this)) {\\n                revert CannotRemoveImmutableFunction(selector);\\n            }\\n            // replace selector with last selector\\n            selectorCount--;\\n            if (oldFacetAddressAndSelectorPosition.selectorPosition != selectorCount) {\\n                bytes4 lastSelector = ds.selectors[selectorCount];\\n                ds.selectors[oldFacetAddressAndSelectorPosition.selectorPosition] = lastSelector;\\n                ds.facetAddressAndSelectorPosition[lastSelector].selectorPosition = oldFacetAddressAndSelectorPosition.selectorPosition;\\n            }\\n            // delete last selector\\n            ds.selectors.pop();\\n            delete ds.facetAddressAndSelectorPosition[selector];\\n        }\\n    }\\n\\n    function initializeDiamondCut(address _init, bytes memory _calldata) internal {\\n        if (_init == address(0)) {\\n            return;\\n        }\\n        enforceHasContractCode(_init, \\\"LibDiamondCut: _init address has no code\\\");        \\n        (bool success, bytes memory error) = _init.delegatecall(_calldata);\\n        if (!success) {\\n            if (error.length > 0) {\\n                // bubble up error\\n                /// @solidity memory-safe-assembly\\n                assembly {\\n                    let returndata_size := mload(error)\\n                    revert(add(32, error), returndata_size)\\n                }\\n            } else {\\n                revert InitializationFunctionReverted(_init, _calldata);\\n            }\\n        }        \\n    }\\n\\n    function enforceHasContractCode(address _contract, string memory _errorMessage) internal view {\\n        uint256 contractSize;\\n        assembly {\\n            contractSize := extcodesize(_contract)\\n        }\\n        if(contractSize == 0) {\\n            revert NoBytecodeAtAddress(_contract, _errorMessage);\\n        }        \\n    }\\n}\\n\",\"keccak256\":\"0x71413973a969720dca1a57333fef861a1ca8d01d1711f1b7b748f502e95c9192\",\"license\":\"CC0-1.0\"},\"contracts/PoC/libraries/LibOthers.sol\":{\"content\":\"pragma solidity ^0.8.0;\\n\\nimport {Counters} from \\\"@openzeppelin/contracts/utils/Counters.sol\\\";\\n\\nlibrary LibStore {\\n\\n    using Counters for Counters.Counter;\\n    error ItemNotSoldAtStore();\\n    error ItemNotAvailable();\\n    bytes32 constant DIAMOND_STORAGE_POSITION = keccak256(\\\"diamond.standard.diamond.storage.store\\\");\\n    \\n\\n    struct StoreState {\\n\\n        Counters.Counter itemCounter;\\n        mapping(uint256 => string) productName;\\n        mapping(uint256 => bool) isProductAvailable;\\n        mapping(uint256 => address) productStore; // maps prodcut to allowed store\\n        mapping(uint256 => uint256) salesPerProduct;\\n        mapping(address => mapping(uint256 => uint256)) itemSalesPerCustomer;\\n        mapping(address => uint256) salesPerCustomer;\\n    }\\n\\n    function diamondStorage() internal pure returns (StoreState storage ds) {\\n        bytes32 position = DIAMOND_STORAGE_POSITION;\\n        assembly {\\n            ds.slot := position\\n        }\\n    }\\n\\n    function  isStoreOfProduct(address store, uint256 _idx) internal view  {\\n        if(store != diamondStorage().productStore[_idx]){\\n            revert ItemNotSoldAtStore();\\n        }        \\n    }\\n\\n    function isProductAvailable(uint256 _idx) internal view {\\n        if(!diamondStorage().isProductAvailable[_idx]){\\n            revert ItemNotAvailable();\\n        }\\n    }\\n\\n    function getItemsPerStore(address storeAddr) internal view returns (string[] memory itemList){\\n        StoreState storage ds = diamondStorage();\\n        uint256 nItems = ds.itemCounter.current();\\n        itemList = new string[](nItems);\\n        uint256 i = 0;\\n        for(uint256 itemIndex = 1 ; itemIndex <= nItems ; itemIndex ++){\\n            if(storeAddr == address(0) || (ds.isProductAvailable[itemIndex] && ds.productStore[itemIndex] == storeAddr)){\\n                itemList[i]= ds.productName[itemIndex];\\n                i++;\\n            }\\n        }\\n    }\\n\\n    function buyItem (uint256 _idx, address storeAddr) internal {\\n        isStoreOfProduct(storeAddr,_idx);\\n        isProductAvailable(_idx);\\n        StoreState storage  ds = diamondStorage();\\n        ds.salesPerProduct[_idx]++;\\n        ds.itemSalesPerCustomer[msg.sender][_idx]++;\\n        ds.salesPerCustomer[msg.sender]++;\\n    }\\n\\n    function addItem (string memory itemName, address storeAddr) internal {\\n        StoreState storage ds = diamondStorage();\\n        ds.itemCounter.increment();\\n        ds.productName[ds.itemCounter.current()] = itemName;\\n        ds.productStore[ds.itemCounter.current()] = storeAddr;\\n        ds.isProductAvailable[ds.itemCounter.current()] = true;\\n    }\\n}\\n\\nlibrary LibMeatStore {\\n\\n  bytes32 constant DIAMOND_STORAGE_POSITION = keccak256(\\\"diamond.standard.diamond.storage.meat\\\");\\n  struct StoreState {\\n      string butcherName;\\n  }\\n\\n  function diamondStorage() internal pure returns (StoreState storage ds) {\\n      bytes32 position = DIAMOND_STORAGE_POSITION;\\n      assembly {\\n          ds.slot := position\\n      }\\n  }\\n\\n  function setButcherName (string memory _butcherName) internal {\\n    StoreState storage storeState = diamondStorage();\\n    storeState.butcherName = _butcherName;\\n  }\\n\\n  function getButcherName() internal view returns (string memory) {\\n    StoreState storage storeState = diamondStorage();\\n    return storeState.butcherName;\\n  }\\n\\n}\\n\\nlibrary LibBeerWineStore {\\n\\n  error UnderageCustomer();  \\n\\n  bytes32 constant DIAMOND_STORAGE_POSITION = keccak256(\\\"diamond.standard.diamond.storage.beer\\\");\\n  struct StoreState {\\n      uint256 minAge;\\n  }\\n\\n  function diamondStorage() internal pure returns (StoreState storage ds) {\\n      bytes32 position = DIAMOND_STORAGE_POSITION;\\n      assembly {\\n          ds.slot := position\\n      }\\n  }\\n\\n  function setMinAge (uint256 _minAge) internal {\\n    StoreState storage storeState = diamondStorage();\\n    storeState.minAge = _minAge;\\n  }\\n\\n  function getMinAge() internal view returns (uint256) {\\n    StoreState storage storeState = diamondStorage();\\n    return storeState.minAge;\\n  }\\n\\n  function enforceMinAge(uint256 age) internal view {\\n    if(age < diamondStorage().minAge){\\n        revert UnderageCustomer();\\n    }    \\n  }\\n\\n\\n}\\n\\nlibrary LibPharmacyWineFacet {\\n\\n  error UnderageCustomer();  \\n\\n  bytes32 constant DIAMOND_STORAGE_POSITION = keccak256(\\\"diamond.standard.diamond.storage.beer\\\");\\n  struct StoreState {\\n      bool needPrescription;\\n  }\\n\\n  function diamondStorage() internal pure returns (StoreState storage ds) {\\n      bytes32 position = DIAMOND_STORAGE_POSITION;\\n      assembly {\\n          ds.slot := position\\n      }\\n  }\\n\\n  function setNeedPrescription (bool _need) internal {\\n    StoreState storage storeState = diamondStorage();\\n    storeState.needPrescription = _need;\\n  }\\n\\n\\n  function enforcePrescription(bool hasPrescription) internal view {\\n    if(diamondStorage().needPrescription && !hasPrescription){\\n        revert UnderageCustomer();\\n    }    \\n  }\\n\\n\\n}\",\"keccak256\":\"0xe77763260527410233461c05151cca3c60605a10853659eb8defd32f766b69b7\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b5061096b806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c80630d66b8e814610067578063108befb51461007c57806360234f1014610067578063bdd33bf01461008f578063c677efc2146100ad578063d34ff9c3146100c0575b600080fd5b61007a610075366004610702565b6100f2565b005b61007a61008a3660046107b3565b610107565b61009761011e565b6040516100a491906107e8565b60405180910390f35b61007a6100bb366004610883565b61012e565b61007a6100ce3660046108a5565b7ff352ba126091b494126fef2892c8da20801fd26146bd0cb5611cfe00f6dc924a55565b6100fa610137565b61010481306101c1565b50565b610110816102a1565b61011a82306102ee565b5050565b6060610129306103b7565b905090565b6101108161056a565b7fc8fcad8db84d3cc18b4c41d551ea0ee66dd599cde068d998e57d5e09332c131c600301546001600160a01b031633146101bf577fc8fcad8db84d3cc18b4c41d551ea0ee66dd599cde068d998e57d5e09332c131f5460408051600162bed83560e01b031981523360048201526001600160a01b039092166024830152519081900360440190fd5b565b7f3e1203f9e3017e885f293b2817c8cf13c3f1a69d3fb206a868b5d52ad69ac93e805460010180825560009081527f3e1203f9e3017e885f293b2817c8cf13c3f1a69d3fb206a868b5d52ad69ac93f60209081526040909120845161022892860190610653565b5081600382016000610238845490565b815260200190815260200160002060006101000a8154816001600160a01b0302191690836001600160a01b03160217905550600181600201600061027d846000015490565b81526020810191909152604001600020805460ff1916911515919091179055505050565b7ff352ba126091b494126fef2892c8da20801fd26146bd0cb5611cfe00f6dc924a5460ff1680156102d0575080155b15610104576040516302e3d90b60e01b815260040160405180910390fd5b6102f881836105ac565b61030182610605565b60008281527f3e1203f9e3017e885f293b2817c8cf13c3f1a69d3fb206a868b5d52ad69ac9426020526040812080547f3e1203f9e3017e885f293b2817c8cf13c3f1a69d3fb206a868b5d52ad69ac93e9290919061035e836108be565b90915550503360009081526005820160209081526040808320868452909152812080549161038b836108be565b909155505033600090815260068201602052604081208054916103ad836108be565b9190505550505050565b7f3e1203f9e3017e885f293b2817c8cf13c3f1a69d3fb206a868b5d52ad69ac93e8054606091908067ffffffffffffffff8111156103f7576103f76106ec565b60405190808252806020026020018201604052801561042a57816020015b60608152602001906001900390816104155790505b509250600060015b828111610561576001600160a01b03861615806104855750600081815260028501602052604090205460ff168015610485575060008181526003850160205260409020546001600160a01b038781169116145b1561054f576000818152600185016020526040902080546104a5906108e5565b80601f01602080910402602001604051908101604052809291908181526020018280546104d1906108e5565b801561051e5780601f106104f35761010080835404028352916020019161051e565b820191906000526020600020905b81548152906001019060200180831161050157829003601f168201915b50505050508583815181106105355761053561091f565b6020026020010181905250818061054b906108be565b9250505b80610559816108be565b915050610432565b50505050919050565b7ff352ba126091b494126fef2892c8da20801fd26146bd0cb5611cfe00f6dc924a54811015610104576040516302e3d90b60e01b815260040160405180910390fd5b60008181527f3e1203f9e3017e885f293b2817c8cf13c3f1a69d3fb206a868b5d52ad69ac94160205260409020546001600160a01b0383811691161461011a57604051630306e2d560e31b815260040160405180910390fd5b60008181527f3e1203f9e3017e885f293b2817c8cf13c3f1a69d3fb206a868b5d52ad69ac940602052604090205460ff1661010457604051633c1c65a160e21b815260040160405180910390fd5b82805461065f906108e5565b90600052602060002090601f01602090048101928261068157600085556106c7565b82601f1061069a57805160ff19168380011785556106c7565b828001600101855582156106c7579182015b828111156106c75782518255916020019190600101906106ac565b506106d39291506106d7565b5090565b5b808211156106d357600081556001016106d8565b634e487b7160e01b600052604160045260246000fd5b60006020828403121561071457600080fd5b813567ffffffffffffffff8082111561072c57600080fd5b818401915084601f83011261074057600080fd5b813581811115610752576107526106ec565b604051601f8201601f19908116603f0116810190838211818310171561077a5761077a6106ec565b8160405282815287602084870101111561079357600080fd5b826020860160208301376000928101602001929092525095945050505050565b600080604083850312156107c657600080fd5b82359150602083013580151581146107dd57600080fd5b809150509250929050565b6000602080830181845280855180835260408601915060408160051b87010192508387016000805b8381101561087557888603603f1901855282518051808852835b81811015610845578281018a01518982018b0152890161082a565b8181111561085557848a838b0101525b50601f01601f191696909601870195509386019391860191600101610810565b509398975050505050505050565b6000806040838503121561089657600080fd5b50508035926020909101359150565b6000602082840312156108b757600080fd5b5035919050565b6000600182016108de57634e487b7160e01b600052601160045260246000fd5b5060010190565b600181811c908216806108f957607f821691505b60208210810361091957634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052603260045260246000fdfea2646970667358221220ff8074ec3efa3bf6cbcac33b82c4aca824c1526174387a1afde7a65f94a69adf64736f6c634300080d0033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100625760003560e01c80630d66b8e814610067578063108befb51461007c57806360234f1014610067578063bdd33bf01461008f578063c677efc2146100ad578063d34ff9c3146100c0575b600080fd5b61007a610075366004610702565b6100f2565b005b61007a61008a3660046107b3565b610107565b61009761011e565b6040516100a491906107e8565b60405180910390f35b61007a6100bb366004610883565b61012e565b61007a6100ce3660046108a5565b7ff352ba126091b494126fef2892c8da20801fd26146bd0cb5611cfe00f6dc924a55565b6100fa610137565b61010481306101c1565b50565b610110816102a1565b61011a82306102ee565b5050565b6060610129306103b7565b905090565b6101108161056a565b7fc8fcad8db84d3cc18b4c41d551ea0ee66dd599cde068d998e57d5e09332c131c600301546001600160a01b031633146101bf577fc8fcad8db84d3cc18b4c41d551ea0ee66dd599cde068d998e57d5e09332c131f5460408051600162bed83560e01b031981523360048201526001600160a01b039092166024830152519081900360440190fd5b565b7f3e1203f9e3017e885f293b2817c8cf13c3f1a69d3fb206a868b5d52ad69ac93e805460010180825560009081527f3e1203f9e3017e885f293b2817c8cf13c3f1a69d3fb206a868b5d52ad69ac93f60209081526040909120845161022892860190610653565b5081600382016000610238845490565b815260200190815260200160002060006101000a8154816001600160a01b0302191690836001600160a01b03160217905550600181600201600061027d846000015490565b81526020810191909152604001600020805460ff1916911515919091179055505050565b7ff352ba126091b494126fef2892c8da20801fd26146bd0cb5611cfe00f6dc924a5460ff1680156102d0575080155b15610104576040516302e3d90b60e01b815260040160405180910390fd5b6102f881836105ac565b61030182610605565b60008281527f3e1203f9e3017e885f293b2817c8cf13c3f1a69d3fb206a868b5d52ad69ac9426020526040812080547f3e1203f9e3017e885f293b2817c8cf13c3f1a69d3fb206a868b5d52ad69ac93e9290919061035e836108be565b90915550503360009081526005820160209081526040808320868452909152812080549161038b836108be565b909155505033600090815260068201602052604081208054916103ad836108be565b9190505550505050565b7f3e1203f9e3017e885f293b2817c8cf13c3f1a69d3fb206a868b5d52ad69ac93e8054606091908067ffffffffffffffff8111156103f7576103f76106ec565b60405190808252806020026020018201604052801561042a57816020015b60608152602001906001900390816104155790505b509250600060015b828111610561576001600160a01b03861615806104855750600081815260028501602052604090205460ff168015610485575060008181526003850160205260409020546001600160a01b038781169116145b1561054f576000818152600185016020526040902080546104a5906108e5565b80601f01602080910402602001604051908101604052809291908181526020018280546104d1906108e5565b801561051e5780601f106104f35761010080835404028352916020019161051e565b820191906000526020600020905b81548152906001019060200180831161050157829003601f168201915b50505050508583815181106105355761053561091f565b6020026020010181905250818061054b906108be565b9250505b80610559816108be565b915050610432565b50505050919050565b7ff352ba126091b494126fef2892c8da20801fd26146bd0cb5611cfe00f6dc924a54811015610104576040516302e3d90b60e01b815260040160405180910390fd5b60008181527f3e1203f9e3017e885f293b2817c8cf13c3f1a69d3fb206a868b5d52ad69ac94160205260409020546001600160a01b0383811691161461011a57604051630306e2d560e31b815260040160405180910390fd5b60008181527f3e1203f9e3017e885f293b2817c8cf13c3f1a69d3fb206a868b5d52ad69ac940602052604090205460ff1661010457604051633c1c65a160e21b815260040160405180910390fd5b82805461065f906108e5565b90600052602060002090601f01602090048101928261068157600085556106c7565b82601f1061069a57805160ff19168380011785556106c7565b828001600101855582156106c7579182015b828111156106c75782518255916020019190600101906106ac565b506106d39291506106d7565b5090565b5b808211156106d357600081556001016106d8565b634e487b7160e01b600052604160045260246000fd5b60006020828403121561071457600080fd5b813567ffffffffffffffff8082111561072c57600080fd5b818401915084601f83011261074057600080fd5b813581811115610752576107526106ec565b604051601f8201601f19908116603f0116810190838211818310171561077a5761077a6106ec565b8160405282815287602084870101111561079357600080fd5b826020860160208301376000928101602001929092525095945050505050565b600080604083850312156107c657600080fd5b82359150602083013580151581146107dd57600080fd5b809150509250929050565b6000602080830181845280855180835260408601915060408160051b87010192508387016000805b8381101561087557888603603f1901855282518051808852835b81811015610845578281018a01518982018b0152890161082a565b8181111561085557848a838b0101525b50601f01601f191696909601870195509386019391860191600101610810565b509398975050505050505050565b6000806040838503121561089657600080fd5b50508035926020909101359150565b6000602082840312156108b757600080fd5b5035919050565b6000600182016108de57634e487b7160e01b600052601160045260246000fd5b5060010190565b600181811c908216806108f957607f821691505b60208210810361091957634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052603260045260246000fdfea2646970667358221220ff8074ec3efa3bf6cbcac33b82c4aca824c1526174387a1afde7a65f94a69adf64736f6c634300080d0033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [],
    "types": null
  }
}